{% extends "base.html" %}
{% load i18n %}

{% block content %}
<div class="container mt-4">
    <h1>{% trans "Метки" %}</h1>

    <a class="btn btn-primary my-3" href="{% url 'labels:create' %}">
        {% trans "Создать метку" %}
    </a>

    {% if messages %}
        {% for message in messages %}
            <div class="alert alert-{{ message.tags }}">{{ message }}</div>
        {% endfor %}
    {% endif %}

    <table class="table table-striped">
        <thead>
            <tr>
                <th>{% trans "ID" %}</th>
                <th>{% trans "Имя" %}</th>
                <th>{% trans "Дата создания" %}</th>  <!-- новый столбец -->
                <th>{% trans "Действия" %}</th>
            </tr>
        </thead>
        <tbody>
            {% for label in labels %}
                <tr>
                    <td>{{ label.id }}</td>
                    <td>{{ label.name }}</td>
                    <td>{{ label.created_at|date:"d.m.Y H:i" }}</td> <!-- формат даты -->
                    <td>
                       <a href="{% url 'labels:update' label.id %}">{% translate "Edit" %}</a><br>
                       <form action="{% url 'labels:delete' label.id %}" method="post" style="display:inline;">
                           {% csrf_token %}
                           <button type="submit" class="btn btn-link p-0 m-0 align-baseline">
                               {% translate "Delete" %}
                           </button>
                       </form>
                    </td>
                </tr>
            {% empty %}
                <tr>
                    <td colspan="4" class="text-center">{% trans "Нет меток" %}</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}